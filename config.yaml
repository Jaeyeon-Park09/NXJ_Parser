# NXJ_Parser ì„¤ì • íŒŒì¼
# PDF íŒŒì„œ íŒŒì´í”„ë¼ì¸ ì„¤ì •

# ê²½ë¡œ ì„¤ì •
paths:
  pdf_input: "pdf_files"  # ì…ë ¥ PDF ë””ë ‰í† ë¦¬
  pdf_input_other: "pdf_files_o"  # ê¸°íƒ€ PDF ë””ë ‰í† ë¦¬
  output: "output"  # ê²°ê³¼ JSON ì €ì¥ ë””ë ‰í† ë¦¬
  image_output: "image_png"  # ì´ë¯¸ì§€ ë¸”ë¡ crop ê²°ê³¼ ì €ì¥
  logs: "logs"  # ë¡œê·¸ íŒŒì¼ ì €ì¥

# OCR ì„¤ì •
ocr:
  language: "kor+eng"  # pytesseract ì–¸ì–´ ì„¤ì • (í•œêµ­ì–´ + ì˜ì–´)
  tesseract_config: "--psm 6"  # tesseract page segmentation mode

# Marker ì„¤ì •
marker:
  max_pages: null  # ìµœëŒ€ í˜ì´ì§€ ìˆ˜ ì œí•œ (null = ì œí•œ ì—†ìŒ)
  ocr_fallback: true  # ë””ì§€í„¸ í…ìŠ¤íŠ¸ ì¶”ì¶œ ì‹¤íŒ¨ ì‹œ OCR ì‚¬ìš©
  extract_images: true  # ì´ë¯¸ì§€ ë¸”ë¡ ì¶”ì¶œ í™œì„±í™”

# GMFT ì„¤ì •
gmft:
  detect_tables: true  # í‘œ ê°ì§€ í™œì„±í™”
  confidence_threshold: 0.5  # í‘œ ê°ì§€ ì‹ ë¢°ë„ ì„ê³„ê°’
  output_formats: ["markdown", "json"]  # ì¶œë ¥ í˜•ì‹

# ë³‘ë ¬ ì²˜ë¦¬ ì„¤ì •
parallel:
  max_workers: 2  # ìµœëŒ€ í”„ë¡œì„¸ìŠ¤ ìˆ˜ (ì•ˆì •ì„±ì„ ìœ„í•´ ì¤„ì„)
  chunk_size: 10  # í•œ ë²ˆì— ì²˜ë¦¬í•  PDF ê°œìˆ˜
  default_sequential: true  # ê¸°ë³¸ê°’: ìˆœì°¨ ì²˜ë¦¬ (GPU ë©”ëª¨ë¦¬ ì•ˆì •ì„±)

# PDF í˜ì´ì§€ ë¶„í•  ì²˜ë¦¬ ì„¤ì • (ë¬¼ë¦¬ì  ë¶„í• )
pdf_split_processing:
  enabled: true
  pages_per_split: 15  # ê¸°ë³¸ í˜ì´ì§€ ë¶„í•  í¬ê¸°
  temp_directory: "temp_splits"
  adaptive_split_size: true  # íŒŒì¼ í¬ê¸°ì— ë”°ë¥¸ ìë™ ì¡°ì •
  keep_temp_files: true   # ì„ì‹œ íŒŒì¼ ë³´ê´€ ì—¬ë¶€ (í™•ì¸ìš©)

# RAGìš© í…ìŠ¤íŠ¸ í† í° ì²­í¬ ë¶„í•  ì„¤ì •
text_chunking:
  enabled: true
  chunk_size: 500        # ì²­í¬ë‹¹ í† í° ìˆ˜
  overlap: 50           # ì²­í¬ ê°„ ì˜¤ë²„ë© í† í° ìˆ˜
  model_name: "gpt-3.5-turbo"  # í† í° ê³„ì‚° ê¸°ì¤€ ëª¨ë¸

# ğŸ–¼ï¸ BLIP-2 ì´ë¯¸ì§€ ìº¡ì…˜ ìƒì„± ì„¤ì • (RTX 5090 24GB ìµœì í™”)
image_captioning:
  enabled: true
  # ğŸ”¥ RTX 5090 24GB ì „ìš© - ìµœê³  í’ˆì§ˆ ëª¨ë¸ ì‚¬ìš© ê°€ëŠ¥
  model: 'Salesforce/blip2-opt-6.7b'   # 6.7B ëª¨ë¸ (10GB, ìµœê³  í’ˆì§ˆ) 
  # model: 'Salesforce/blip2-opt-2.7b' # ê¸°ë³¸ê°’ (5.4GB, ê³ í’ˆì§ˆ)
  # model: 'Salesforce/blip2-flan-t5-xl' # ê²½ëŸ‰í™” (3GB, ë¹ ë¦„)
  
  # ìºì‹œ ë””ë ‰í† ë¦¬ (ê¸°ë³¸: ~/.cache/huggingface/hub/)
  # cache_dir: '/path/to/custom/cache' # ì‚¬ìš©ì ì •ì˜ ìºì‹œ ìœ„ì¹˜
  
  # ìƒì„± ì„¤ì •
  max_length: 75          # RTX 5090ì´ë©´ ë” ê¸´ ìº¡ì…˜ ê°€ëŠ¥
  temperature: 0.8        # ìƒì„± ë‹¤ì–‘ì„± (ì°½ì˜ì  ì„¤ëª…)
  
  # RTX 5090 24GB ìµœì í™” ì„¤ì •
  use_fp16: true          # FP16 ì‚¬ìš© (ì—¬ì „íˆ ë©”ëª¨ë¦¬ ì ˆì•½)
  device_map: "auto"      # ìë™ ë””ë°”ì´ìŠ¤ ë°°ì¹˜
  batch_size: 4           # RTX 5090ì´ë©´ ë°°ì¹˜ ì²˜ë¦¬ ê°€ëŠ¥
  compile_model: true     # PyTorch 2.0+ ì»´íŒŒì¼ ìµœì í™”

# ë¡œê¹… ì„¤ì •
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s" 